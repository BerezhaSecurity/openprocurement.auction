<!DOCTYPE html>
<html lang="en" data-ng-app="app" ng-controller="AuctionController">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Auction Software</title>
    <!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css">
    <!-- Custom styles for this template -->
    <link href="static/css/starter-template.css" rel="stylesheet">

</head>
{% raw %}
<body>
    <div class="navbar navbar-inverse navbar-fixed-bottom" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <ul class="nav navbar-nav">
                    <li ><a href="#">Info</a>
                    </li>
                    <li class="active"><a href="#">Bidding</a>
                    </li>
                    <li><a href="#">Settings</a>
                    </li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </div>

    <div class="container">
        <timer countdown="1" interval="1000">
        <div class="progress progress-fixed-top">
          <div class="progress-bar progress-bar-striped active"  role="progressbar" aria-valuenow="{{($parent.interval - countdown)/$parent.interval*100}}" aria-valuemin="0" aria-valuemax="100" style="width: {{($parent.interval - countdown)/$parent.interval*100}}%">
           </div>
        </div>
        </timer>
    </div>
    <div class="container">
    <div class="panel panel-default">
    <div class="panel-heading">
        <strong>Initial bids</strong>
    </div>
      <div class="panel-body">
             <div class="row" ng-repeat="item in auction_doc.initial_bids">
                <div class="col-xs-4">{{ item.time }}</div>
                <div class="col-xs-4">{{ item.label.en }}</div>
                <div class="col-xs-4">{{ item.amount }}</div>
              </div>
        </div>
      </div>
    </div>
    <div class="container">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="row">
                        <div class="col-xs-3"><strong>Time</strong></div>
                        <div class="col-xs-5"><strong>Bidder</strong></div>
                        <div class="col-xs-4"><strong>Bid</strong></div>
                </div>
            </div>
            <div class="panel-body auction-stages">
                <div class="row" ng-repeat="stage in auction_doc.stages"
                       ng-class="{true: 'bg-primary', false: ''}[auction_doc.current_stage == $index]">
                        <div class="col-xs-3">{{ stage.start|date : 'shortTime' }}</div>
                        <div class="col-xs-5">{{ stage.label.en }}</div>
                        <div class="col-xs-4" ng-if="stage.id = 'bids'">{{ stage.amount }}</div>
                        <div class="col-xs-4" ng-if="stage.id != 'bids'"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <span class="pull-right"><timer countdown="1" max-time-unit="second" interval="1000">{{countdown | number:0}}</timer></span>

        <hr>
        <div ng-show="auction_doc.stages[auction_doc.current_stage].type == 'bids'" class="panel panel-default">
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-12">
                        <strong>{{ auction_doc.stages[auction_doc.current_stage].amount }} UAH</strong> - your last bid
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <form id="BidsForm" class="form-inline" role="form">
                            <div class="form-group">
                                <label class="sr-only" for="exampleInputPassword2">Bid</label>
                                <input type="number" class="form-control" id="bidinput" placeholder="">
                            </div>
                            <button type="submit" class="btn btn-success">Submit</button>
                        </form>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        35 UAH - Decrement
                        <span class="pull-right">85 sec</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.container -->
</body>
{% endraw %}
<script type=text/javascript>
    var db_url = '{{ db_url }}';
    var auction_doc_id = '{{ auction_doc_id }}';
</script>
<!-- <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.min.js"></script> -->
<script src="vendor/angular/angular.min.js"></script>
<!-- <script src="//cdn.jsdelivr.net/pouchdb/3.0.6/pouchdb.min.js"></script> -->
<script src="vendor/pouchdb/dist/pouchdb.min.js"></script>
<script src="vendor/angular-translate/angular-translate.min.js"></script>
<script src="vendor/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
<script src="vendor/angular-timer/dist/angular-timer.min.js"></script>
<script src="static/js/app.js"></script>

</html>
